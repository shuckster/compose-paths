/*
 * compose-paths
 * v1.0.5
 * https://github.com/shuckster/compose-paths
 * License: MIT
 */
module.exports={composePaths:u,zip:d};var f=require("path").join,h="aliases";function u(e){let n=P(e).map(I),t=n.reduce((i,{indent:l})=>Math.min(i,l),Infinity),r=n.map(({indent:i,content:l})=>({indent:i-t,content:l})),o=A(r),c=m(o);o.forEach(({name:i,index:l})=>{if(!i)return c;let p=c[l];Object.defineProperty(c,i,{value:p,enumerable:!1})});let a=o.filter(i=>!!(i==null?void 0:i.name)).map(i=>i.name);return Object.defineProperty(c,h,{value:a,enumerable:!1})}process.env.RUNNING_JEST==="true"&&(u.__join=f);function d(e,s,n){let{aliases:t=[],ignoreAliases:r=!1}=n||{};return(t.length&&!r?t:e[h]).reduce((c,a)=>r&&t.includes(a)?c:[...c,[e[a],s[a]]],[])}var S=/[\r\n]/,O=/(\s*\/\/[^\n\r]*)/,g=/^(\s*)([^$]*)/,j=/\s*=\s*([^$]+)/,_=/^\s*$/;function m(e){let s=[],n=[],t=-1,r=-1;return e.forEach(({indent:o,content:c})=>{if(o<=t){let a=1+(t-o)/r;for(;a--;)s.pop()}else r<=0&&(r=o);s.push(c),n.push(f(...s)),t=o}),n}function A(e){return e.map((s,n)=>{let{content:t,indent:r}=s,o=t.match(j);return o?{index:n,indent:r,content:t.slice(0,t.length-o[0].length),name:o[1]}:{index:n,indent:r,content:t}})}function I(e){var t;let s=[e,"",e],n=(t=e.match(g))!=null?t:s;return{indent:n[1].length,content:n[2]}}function P(e){return[e].flat().reduce((s,n)=>[...s,...n.split(S)],[]).filter(v).map(s=>s.replace(O,""))}function v(e){return!_.test(e)}
